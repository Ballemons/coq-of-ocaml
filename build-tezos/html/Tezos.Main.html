<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Tezos.Main</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Tezos.Main</h1>

<div class="code">
</div>

<div class="doc">
Generated by coq-of-ocaml 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">OCaml.OCaml</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">type_scope</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Tezos.Environment.html#"><span class="id" title="library">Tezos.Environment</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Environment.Notations</span>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Tezos.Alpha_context.html#"><span class="id" title="library">Tezos.Alpha_context</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Tezos.Apply.html#"><span class="id" title="library">Tezos.Apply</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Tezos.Apply_results.html#"><span class="id" title="library">Tezos.Apply_results</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Tezos.Block_header_repr.html#"><span class="id" title="library">Tezos.Block_header_repr</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Tezos.Script_ir_translator.html#"><span class="id" title="library">Tezos.Script_ir_translator</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Tezos.Script_typed_ir.html#"><span class="id" title="library">Tezos.Script_typed_ir</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="Tezos.Services_registration.html#"><span class="id" title="library">Tezos.Services_registration</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="block_header_data"><span class="id" title="definition">block_header_data</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="Tezos.Alpha_context.html#Block_header.protocol_data"><span class="id" title="definition">Alpha_context.Block_header.protocol_data</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="block_header_data_encoding"><span class="id" title="definition">block_header_data_encoding</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Data_encoding.encoding"><span class="id" title="definition">Data_encoding.encoding</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.protocol_data"><span class="id" title="definition">Alpha_context.Block_header.protocol_data</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Block_header.protocol_data_encoding"><span class="id" title="definition">Alpha_context.Block_header.protocol_data_encoding</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="block_header_metadata"><span class="id" title="definition">block_header_metadata</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="Tezos.Apply_results.html#block_metadata"><span class="id" title="definition">Apply_results.block_metadata</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="block_header_metadata_encoding"><span class="id" title="definition">block_header_metadata_encoding</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Data_encoding.encoding"><span class="id" title="definition">Data_encoding.encoding</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata"><span class="id" title="definition">Apply_results.block_metadata</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata_encoding"><span class="id" title="definition">Apply_results.block_metadata_encoding</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="operation_data"><span class="id" title="definition">operation_data</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="Tezos.Alpha_context.html#packed_protocol_data"><span class="id" title="inductive">Alpha_context.packed_protocol_data</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="operation_data_encoding"><span class="id" title="definition">operation_data_encoding</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Data_encoding.t"><span class="id" title="axiom">Data_encoding.t</span></a> <a class="idref" href="Tezos.Alpha_context.html#Operation.packed_protocol_data"><span class="id" title="inductive">Alpha_context.Operation.packed_protocol_data</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Operation.protocol_data_encoding"><span class="id" title="definition">Alpha_context.Operation.protocol_data_encoding</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="operation_receipt"><span class="id" title="definition">operation_receipt</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="Tezos.Apply_results.html#packed_operation_metadata"><span class="id" title="inductive">Apply_results.packed_operation_metadata</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="operation_receipt_encoding"><span class="id" title="definition">operation_receipt_encoding</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Data_encoding.t"><span class="id" title="axiom">Data_encoding.t</span></a> <a class="idref" href="Tezos.Apply_results.html#packed_operation_metadata"><span class="id" title="inductive">Apply_results.packed_operation_metadata</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#operation_metadata_encoding"><span class="id" title="definition">Apply_results.operation_metadata_encoding</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="operation_data_and_receipt_encoding"><span class="id" title="definition">operation_data_and_receipt_encoding</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Data_encoding.t"><span class="id" title="axiom">Data_encoding.t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Alpha_context.html#Operation.packed_protocol_data"><span class="id" title="inductive">Alpha_context.Operation.packed_protocol_data</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#packed_operation_metadata"><span class="id" title="inductive">Apply_results.packed_operation_metadata</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#operation_data_and_metadata_encoding"><span class="id" title="definition">Apply_results.operation_data_and_metadata_encoding</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="acceptable_passes"><span class="id" title="definition">acceptable_passes</span></a> : <a class="idref" href="Tezos.Alpha_context.html#packed_operation"><span class="id" title="definition">Alpha_context.packed_operation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">int</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Operation.acceptable_passes"><span class="id" title="definition">Alpha_context.Operation.acceptable_passes</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="max_block_length"><span class="id" title="definition">max_block_length</span></a> : <span class="id" title="definition">int</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Block_header.max_header_length"><span class="id" title="definition">Alpha_context.Block_header.max_header_length</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="max_operation_data_length"><span class="id" title="definition">max_operation_data_length</span></a> : <span class="id" title="definition">int</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Constants.max_operation_data_length"><span class="id" title="definition">Alpha_context.Constants.max_operation_data_length</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="validation_passes"><span class="id" title="definition">validation_passes</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota"><span class="id" title="definition">Updater.quota</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">max_anonymous_operations</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Pervasives.op_plus"><span class="id" title="axiom">Pervasives.op_plus</span></a> <a class="idref" href="Tezos.Alpha_context.html#Constants.max_revelations_per_block"><span class="id" title="definition">Alpha_context.Constants.max_revelations_per_block</span></a> 100 <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">{|</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Updater.quota.max_size</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Pervasives.op_star</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">32</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">1024;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Updater.quota.max_op</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">32</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">|};</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">{|</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Updater.quota.max_size</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Pervasives.op_star</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">32</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">1024;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Updater.quota.max_op</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">|};</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Updater.quota.max_size</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Pervasives.op_star</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">max_anonymous_operations</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">1024;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Updater.quota.max_op</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">max_anonymous_operations</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">|};</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">{|</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Updater.quota.max_size</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Pervasives.op_star</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">512</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">1024;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">Updater.quota.max_op</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Environment.html#Updater.quota.Build"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">|}</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="rpc_services"><span class="id" title="definition">rpc_services</span></a> : <a class="idref" href="Tezos.Environment.html#RPC_directory.directory"><span class="id" title="definition">RPC_directory.directory</span></a> <a class="idref" href="Tezos.Environment.html#Updater.rpc_context"><span class="id" title="definition">Updater.rpc_context</span></a> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;❌&nbsp;Sequences&nbsp;of&nbsp;instructions&nbsp;are&nbsp;ignored&nbsp;(operator&nbsp;";")&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;❌&nbsp;instruction_sequence&nbsp;";"&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Services_registration.html#get_rpc_services"><span class="id" title="definition">Services_registration.get_rpc_services</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="ConstructorRecords_validation_mode"><span class="id" title="module">ConstructorRecords_validation_mode</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="ConstructorRecords_validation_mode.validation_mode"><span class="id" title="module">validation_mode</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="ConstructorRecords_validation_mode.validation_mode.Application"><span class="id" title="module">Application</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="ConstructorRecords_validation_mode.validation_mode.Application.record"><span class="id" title="record">record</span></a> {<span class="id" title="var">block_header</span> <span class="id" title="var">baker</span> <span class="id" title="var">block_delay</span> : <span class="id" title="keyword">Set</span>} : <span class="id" title="keyword">Set</span> := <a name="ConstructorRecords_validation_mode.validation_mode.Application.Build"><span class="id" title="constructor">Build</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Application.block_header"><span class="id" title="projection">block_header</span></a> : <a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Application.baker"><span class="id" title="projection">baker</span></a> : <a class="idref" href="Tezos.Main.html#baker"><span class="id" title="variable">baker</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Application.block_delay"><span class="id" title="projection">block_delay</span></a> : <a class="idref" href="Tezos.Main.html#block_delay"><span class="id" title="variable">block_delay</span></a> }.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.record"><span class="id" title="record">record</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Application.with_block_header"><span class="id" title="definition">with_block_header</span></a> {<span class="id" title="var">t_block_header</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">block_header</span> (<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a> <a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.baker"><span class="id" title="projection">baker</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.block_delay"><span class="id" title="projection">block_delay</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Application.with_baker"><span class="id" title="definition">with_baker</span></a> {<span class="id" title="var">t_block_header</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>} <span class="id" title="var">baker</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.block_header"><span class="id" title="projection">block_header</span></a>) <a class="idref" href="Tezos.Main.html#baker"><span class="id" title="variable">baker</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.block_delay"><span class="id" title="projection">block_delay</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Application.with_block_delay"><span class="id" title="definition">with_block_delay</span></a> {<span class="id" title="var">t_block_header</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">block_delay</span> (<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.block_header"><span class="id" title="projection">block_header</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application.baker"><span class="id" title="projection">baker</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#block_delay"><span class="id" title="variable">block_delay</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Application"><span class="id" title="module">Application</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Application_skeleton"><span class="id" title="definition">Application_skeleton</span></a> := <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.record"><span class="id" title="record">Application.record</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_application"><span class="id" title="module">Partial_application</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_application.record"><span class="id" title="record">record</span></a> {<span class="id" title="var">block_header</span> <span class="id" title="var">baker</span> <span class="id" title="var">block_delay</span> : <span class="id" title="keyword">Set</span>} : <span class="id" title="keyword">Set</span> := <a name="ConstructorRecords_validation_mode.validation_mode.Partial_application.Build"><span class="id" title="constructor">Build</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Partial_application.block_header"><span class="id" title="projection">block_header</span></a> : <a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Partial_application.baker"><span class="id" title="projection">baker</span></a> : <a class="idref" href="Tezos.Main.html#baker"><span class="id" title="variable">baker</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Partial_application.block_delay"><span class="id" title="projection">block_delay</span></a> : <a class="idref" href="Tezos.Main.html#block_delay"><span class="id" title="variable">block_delay</span></a> }.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.record"><span class="id" title="record">record</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_application.with_block_header"><span class="id" title="definition">with_block_header</span></a> {<span class="id" title="var">t_block_header</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">block_header</span> (<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a> <a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.baker"><span class="id" title="projection">baker</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.block_delay"><span class="id" title="projection">block_delay</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_application.with_baker"><span class="id" title="definition">with_baker</span></a> {<span class="id" title="var">t_block_header</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>} <span class="id" title="var">baker</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.block_header"><span class="id" title="projection">block_header</span></a>) <a class="idref" href="Tezos.Main.html#baker"><span class="id" title="variable">baker</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.block_delay"><span class="id" title="projection">block_delay</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_application.with_block_delay"><span class="id" title="definition">with_block_delay</span></a> {<span class="id" title="var">t_block_header</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">block_delay</span> (<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_block_header"><span class="id" title="variable">t_block_header</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.block_header"><span class="id" title="projection">block_header</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application.baker"><span class="id" title="projection">baker</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#block_delay"><span class="id" title="variable">block_delay</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_application"><span class="id" title="module">Partial_application</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_application_skeleton"><span class="id" title="definition">Partial_application_skeleton</span></a> := <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.record"><span class="id" title="record">Partial_application.record</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_construction"><span class="id" title="module">Partial_construction</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_construction.record"><span class="id" title="record">record</span></a> {<span class="id" title="var">predecessor</span> : <span class="id" title="keyword">Set</span>} : <span class="id" title="keyword">Set</span> := <a name="ConstructorRecords_validation_mode.validation_mode.Partial_construction.Build"><span class="id" title="constructor">Build</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Partial_construction.predecessor"><span class="id" title="projection">predecessor</span></a> : <a class="idref" href="Tezos.Main.html#predecessor"><span class="id" title="variable">predecessor</span></a> }.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_construction.record"><span class="id" title="record">record</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_construction.with_predecessor"><span class="id" title="definition">with_predecessor</span></a> {<span class="id" title="var">t_predecessor</span>} <span class="id" title="var">predecessor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_construction.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_construction.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a> <a class="idref" href="Tezos.Main.html#predecessor"><span class="id" title="variable">predecessor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Partial_construction"><span class="id" title="module">Partial_construction</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Partial_construction_skeleton"><span class="id" title="definition">Partial_construction_skeleton</span></a> := <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.record"><span class="id" title="record">Partial_construction.record</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="ConstructorRecords_validation_mode.validation_mode.Full_construction"><span class="id" title="module">Full_construction</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.record"><span class="id" title="record">record</span></a> {<span class="id" title="var">predecessor</span> <span class="id" title="var">protocol_data</span> <span class="id" title="var">baker</span> <span class="id" title="var">block_delay</span> : <span class="id" title="keyword">Set</span>} : <span class="id" title="keyword">Set</span> := <a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.Build"><span class="id" title="constructor">Build</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.predecessor"><span class="id" title="projection">predecessor</span></a> : <a class="idref" href="Tezos.Main.html#predecessor"><span class="id" title="variable">predecessor</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.protocol_data"><span class="id" title="projection">protocol_data</span></a> : <a class="idref" href="Tezos.Main.html#protocol_data"><span class="id" title="variable">protocol_data</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.baker"><span class="id" title="projection">baker</span></a> : <a class="idref" href="Tezos.Main.html#baker"><span class="id" title="variable">baker</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.block_delay"><span class="id" title="projection">block_delay</span></a> : <a class="idref" href="Tezos.Main.html#block_delay"><span class="id" title="variable">block_delay</span></a> }.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.record"><span class="id" title="record">record</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.with_predecessor"><span class="id" title="definition">with_predecessor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">t_predecessor</span> <span class="id" title="var">t_protocol_data</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>} <span class="id" title="var">predecessor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a> <a class="idref" href="Tezos.Main.html#t_protocol_data"><span class="id" title="variable">t_protocol_data</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a> <a class="idref" href="Tezos.Main.html#t_protocol_data"><span class="id" title="variable">t_protocol_data</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a> <a class="idref" href="Tezos.Main.html#predecessor"><span class="id" title="variable">predecessor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.protocol_data"><span class="id" title="projection">protocol_data</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.baker"><span class="id" title="projection">baker</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.block_delay"><span class="id" title="projection">block_delay</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.with_protocol_data"><span class="id" title="definition">with_protocol_data</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">t_predecessor</span> <span class="id" title="var">t_protocol_data</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>} <span class="id" title="var">protocol_data</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a> <a class="idref" href="Tezos.Main.html#t_protocol_data"><span class="id" title="variable">t_protocol_data</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a> <a class="idref" href="Tezos.Main.html#t_protocol_data"><span class="id" title="variable">t_protocol_data</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.predecessor"><span class="id" title="projection">predecessor</span></a>) <a class="idref" href="Tezos.Main.html#protocol_data"><span class="id" title="variable">protocol_data</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.baker"><span class="id" title="projection">baker</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.block_delay"><span class="id" title="projection">block_delay</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.with_baker"><span class="id" title="definition">with_baker</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">t_predecessor</span> <span class="id" title="var">t_protocol_data</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>} <span class="id" title="var">baker</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a> <a class="idref" href="Tezos.Main.html#t_protocol_data"><span class="id" title="variable">t_protocol_data</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a> <a class="idref" href="Tezos.Main.html#t_protocol_data"><span class="id" title="variable">t_protocol_data</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.predecessor"><span class="id" title="projection">predecessor</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.protocol_data"><span class="id" title="projection">protocol_data</span></a>) <a class="idref" href="Tezos.Main.html#baker"><span class="id" title="variable">baker</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.block_delay"><span class="id" title="projection">block_delay</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Full_construction.with_block_delay"><span class="id" title="definition">with_block_delay</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">t_predecessor</span> <span class="id" title="var">t_protocol_data</span> <span class="id" title="var">t_baker</span> <span class="id" title="var">t_block_delay</span>} <span class="id" title="var">block_delay</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.record"><span class="id" title="record">record</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a> <a class="idref" href="Tezos.Main.html#t_protocol_data"><span class="id" title="variable">t_protocol_data</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#t_predecessor"><span class="id" title="variable">t_predecessor</span></a> <a class="idref" href="Tezos.Main.html#t_protocol_data"><span class="id" title="variable">t_protocol_data</span></a> <a class="idref" href="Tezos.Main.html#t_baker"><span class="id" title="variable">t_baker</span></a> <a class="idref" href="Tezos.Main.html#t_block_delay"><span class="id" title="variable">t_block_delay</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.predecessor"><span class="id" title="projection">predecessor</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.protocol_data"><span class="id" title="projection">protocol_data</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction.baker"><span class="id" title="projection">baker</span></a>) <a class="idref" href="Tezos.Main.html#block_delay"><span class="id" title="variable">block_delay</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.Full_construction"><span class="id" title="module">Full_construction</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ConstructorRecords_validation_mode.validation_mode.Full_construction_skeleton"><span class="id" title="definition">Full_construction_skeleton</span></a> := <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode.record"><span class="id" title="record">Full_construction.record</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode"><span class="id" title="module">validation_mode</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode"><span class="id" title="module">ConstructorRecords_validation_mode</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ConstructorRecords_validation_mode</span>.<br/>

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;'validation_mode.Application".<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;'validation_mode.Partial_application".<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;'validation_mode.Partial_construction".<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;'validation_mode.Full_construction".<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="validation_mode"><span class="id" title="inductive">validation_mode</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
| <a name="Application"><span class="id" title="constructor">Application</span></a> : <a class="idref" href="Tezos.Main.html#ab30d0b01ef494d7257e6a8db8662952"><span class="id" title="notation">'</span></a><a class="idref" href="Tezos.Main.html#ab30d0b01ef494d7257e6a8db8662952"><span class="id" title="notation">validation_mode.Application</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Tezos.Main.html#validation_mode"><span class="id" title="inductive">validation_mode</span></a><br/>
| <a name="Partial_application"><span class="id" title="constructor">Partial_application</span></a> : <a class="idref" href="Tezos.Main.html#7fc050a76fb59364a95836ada4e7c343"><span class="id" title="notation">'</span></a><a class="idref" href="Tezos.Main.html#7fc050a76fb59364a95836ada4e7c343"><span class="id" title="notation">validation_mode.Partial_application</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Tezos.Main.html#validation_mode"><span class="id" title="inductive">validation_mode</span></a><br/>
| <a name="Partial_construction"><span class="id" title="constructor">Partial_construction</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#97bec9321623edb01560f4cb6e143ba1"><span class="id" title="notation">'</span></a><a class="idref" href="Tezos.Main.html#97bec9321623edb01560f4cb6e143ba1"><span class="id" title="notation">validation_mode.Partial_construction</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Tezos.Main.html#validation_mode"><span class="id" title="inductive">validation_mode</span></a><br/>
| <a name="Full_construction"><span class="id" title="constructor">Full_construction</span></a> : <a class="idref" href="Tezos.Main.html#3fd220369ade2196871ac23fa2bd41b1"><span class="id" title="notation">'</span></a><a class="idref" href="Tezos.Main.html#3fd220369ade2196871ac23fa2bd41b1"><span class="id" title="notation">validation_mode.Full_construction</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Tezos.Main.html#validation_mode"><span class="id" title="inductive">validation_mode</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a name="ab30d0b01ef494d7257e6a8db8662952"><span class="id" title="notation">&quot;</span></a>'validation_mode.Application" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="Tezos.Main.html#Application_skeleton"><span class="id" title="definition">validation_mode.Application_skeleton</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header"><span class="id" title="definition">Alpha_context.Block_header.block_header</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#public_key_hash"><span class="id" title="definition">Alpha_context.public_key_hash</span></a> <a class="idref" href="Tezos.Alpha_context.html#Period.t"><span class="id" title="definition">Alpha_context.Period.t</span></a>)<br/>
<span class="id" title="var">and</span> "'validation_mode.Partial_application" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="Tezos.Main.html#Partial_application_skeleton"><span class="id" title="definition">validation_mode.Partial_application_skeleton</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header"><span class="id" title="definition">Alpha_context.Block_header.block_header</span></a> <a class="idref" href="Tezos.Alpha_context.html#public_key_hash"><span class="id" title="definition">Alpha_context.public_key_hash</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Period.t"><span class="id" title="definition">Alpha_context.Period.t</span></a>)<br/>
<span class="id" title="var">and</span> "'validation_mode.Partial_construction" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="Tezos.Main.html#Partial_construction_skeleton"><span class="id" title="definition">validation_mode.Partial_construction_skeleton</span></a> <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Block_hash"><span class="id" title="axiom">Block_hash</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.HASH.t"><span class="id" title="projection">S.HASH.t</span></a>))<br/>
<span class="id" title="var">and</span> "'validation_mode.Full_construction" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="Tezos.Main.html#Full_construction_skeleton"><span class="id" title="definition">validation_mode.Full_construction_skeleton</span></a> <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Block_hash"><span class="id" title="axiom">Block_hash</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.HASH.t"><span class="id" title="projection">S.HASH.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Block_header.contents"><span class="id" title="definition">Alpha_context.Block_header.contents</span></a> <a class="idref" href="Tezos.Alpha_context.html#public_key_hash"><span class="id" title="definition">Alpha_context.public_key_hash</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Period.t"><span class="id" title="definition">Alpha_context.Period.t</span></a>).<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="validation_mode"><span class="id" title="module">validation_mode</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="Tezos.Main.html#ConstructorRecords_validation_mode.validation_mode"><span class="id" title="module">ConstructorRecords_validation_mode.validation_mode</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="validation_mode.Application"><span class="id" title="definition">Application</span></a> := <a class="idref" href="Tezos.Main.html#ab30d0b01ef494d7257e6a8db8662952"><span class="id" title="notation">'</span></a><a class="idref" href="Tezos.Main.html#ab30d0b01ef494d7257e6a8db8662952"><span class="id" title="notation">validation_mode.Application</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="validation_mode.Partial_application"><span class="id" title="definition">Partial_application</span></a> := <a class="idref" href="Tezos.Main.html#7fc050a76fb59364a95836ada4e7c343"><span class="id" title="notation">'</span></a><a class="idref" href="Tezos.Main.html#7fc050a76fb59364a95836ada4e7c343"><span class="id" title="notation">validation_mode.Partial_application</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="validation_mode.Partial_construction"><span class="id" title="definition">Partial_construction</span></a> := <a class="idref" href="Tezos.Main.html#97bec9321623edb01560f4cb6e143ba1"><span class="id" title="notation">'</span></a><a class="idref" href="Tezos.Main.html#97bec9321623edb01560f4cb6e143ba1"><span class="id" title="notation">validation_mode.Partial_construction</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="validation_mode.Full_construction"><span class="id" title="definition">Full_construction</span></a> := <a class="idref" href="Tezos.Main.html#3fd220369ade2196871ac23fa2bd41b1"><span class="id" title="notation">'</span></a><a class="idref" href="Tezos.Main.html#3fd220369ade2196871ac23fa2bd41b1"><span class="id" title="notation">validation_mode.Full_construction</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tezos.Main.html#validation_mode"><span class="id" title="module">validation_mode</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="validation_state"><span class="id" title="module">validation_state</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="validation_state.record"><span class="id" title="record">record</span></a> : <span class="id" title="keyword">Set</span> := <a name="validation_state.Build"><span class="id" title="constructor">Build</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="validation_state.mode"><span class="id" title="projection">mode</span></a> : <a class="idref" href="Tezos.Main.html#validation_mode"><span class="id" title="inductive">validation_mode</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="validation_state.chain_id"><span class="id" title="projection">chain_id</span></a> : <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Chain_id"><span class="id" title="axiom">Chain_id</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.HASH.t"><span class="id" title="projection">S.HASH.t</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="validation_state.ctxt"><span class="id" title="projection">ctxt</span></a> : <a class="idref" href="Tezos.Alpha_context.html#t"><span class="id" title="definition">Alpha_context.t</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="validation_state.op_count"><span class="id" title="projection">op_count</span></a> : <span class="id" title="definition">int</span> }.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="validation_state.with_mode"><span class="id" title="definition">with_mode</span></a> <span class="id" title="var">mode</span> (<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#validation_state.record"><span class="id" title="record">record</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#validation_state.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#mode"><span class="id" title="variable">mode</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.chain_id"><span class="id" title="projection">chain_id</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.ctxt"><span class="id" title="projection">ctxt</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.op_count"><span class="id" title="projection">op_count</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="validation_state.with_chain_id"><span class="id" title="definition">with_chain_id</span></a> <span class="id" title="var">chain_id</span> (<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#validation_state.record"><span class="id" title="record">record</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#validation_state.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.mode"><span class="id" title="projection">mode</span></a>) <a class="idref" href="Tezos.Main.html#chain_id"><span class="id" title="variable">chain_id</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.ctxt"><span class="id" title="projection">ctxt</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.op_count"><span class="id" title="projection">op_count</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="validation_state.with_ctxt"><span class="id" title="definition">with_ctxt</span></a> <span class="id" title="var">ctxt</span> (<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#validation_state.record"><span class="id" title="record">record</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#validation_state.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.mode"><span class="id" title="projection">mode</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.chain_id"><span class="id" title="projection">chain_id</span></a>) <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.op_count"><span class="id" title="projection">op_count</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="validation_state.with_op_count"><span class="id" title="definition">with_op_count</span></a> <span class="id" title="var">op_count</span> (<span class="id" title="var">r</span> : <a class="idref" href="Tezos.Main.html#validation_state.record"><span class="id" title="record">record</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#validation_state.Build"><span class="id" title="constructor">Build</span></a> <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.mode"><span class="id" title="projection">mode</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.chain_id"><span class="id" title="projection">chain_id</span></a>) <a class="idref" href="Tezos.Main.html#r"><span class="id" title="variable">r</span></a>.(<a class="idref" href="Tezos.Main.html#validation_state.ctxt"><span class="id" title="projection">ctxt</span></a>) <a class="idref" href="Tezos.Main.html#op_count"><span class="id" title="variable">op_count</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Tezos.Main.html#validation_state"><span class="id" title="module">validation_state</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="validation_state"><span class="id" title="definition">validation_state</span></a> := <a class="idref" href="Tezos.Main.html#record"><span class="id" title="record">validation_state.record</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="current_context"><span class="id" title="definition">current_context</span></a> (<span class="id" title="var">function_parameter</span> : <a class="idref" href="Tezos.Main.html#validation_state"><span class="id" title="definition">validation_state</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Lwt.t"><span class="id" title="definition">Lwt.t</span></a> (<a class="idref" href="Tezos.Environment.html#Error_monad.tzresult"><span class="id" title="definition">Error_monad.tzresult</span></a> <a class="idref" href="Tezos.Environment.html#Context.t"><span class="id" title="axiom">Context.t</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.ctxt</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">ctxt</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a> := <a class="idref" href="Tezos.Main.html#function_parameter"><span class="id" title="variable">function_parameter</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Alpha_context.html#finalize"><span class="id" title="definition">Alpha_context.finalize</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ctxt</span>).(<a class="idref" href="Tezos.Environment.html#Updater.validation_result.context"><span class="id" title="projection">Updater.validation_result.context</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="begin_partial_application"><span class="id" title="definition">begin_partial_application</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="var">chain_id</span> : <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Chain_id"><span class="id" title="axiom">Chain_id</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.HASH.t"><span class="id" title="projection">S.HASH.t</span></a>)) (<span class="id" title="var">ctxt</span> : <a class="idref" href="Tezos.Environment.html#Context.t"><span class="id" title="axiom">Context.t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">predecessor_timestamp</span> : <a class="idref" href="Tezos.Environment.html#Time.t"><span class="id" title="axiom">Time.t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">predecessor_fitness</span> : <a class="idref" href="Tezos.Alpha_context.html#Fitness.t"><span class="id" title="definition">Alpha_context.Fitness.t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">block_header</span> : <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header"><span class="id" title="definition">Alpha_context.Block_header.block_header</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Lwt.t"><span class="id" title="definition">Lwt.t</span></a> (<a class="idref" href="Tezos.Environment.html#Error_monad.tzresult"><span class="id" title="definition">Error_monad.tzresult</span></a> <a class="idref" href="Tezos.Main.html#validation_state"><span class="id" title="definition">validation_state</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">Alpha_context.Block_header.block_header.shell</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">shell</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">|}</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">level</span> := <span class="id" title="var">shell</span>.(<a class="idref" href="Tezos.Environment.html#Block_header.shell_header.level"><span class="id" title="projection">Block_header.shell_header.level</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fitness</span> := <a class="idref" href="Tezos.Main.html#predecessor_fitness"><span class="id" title="variable">predecessor_fitness</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">timestamp</span> := <span class="id" title="var">shell</span>.(<a class="idref" href="Tezos.Environment.html#Block_header.shell_header.timestamp"><span class="id" title="projection">Block_header.shell_header.timestamp</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">=?</span></a> <span class="id" title="var">ctxt</span> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#prepare"><span class="id" title="definition">Alpha_context.prepare</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Main.html#level"><span class="id" title="variable">level</span></a> <a class="idref" href="Tezos.Main.html#predecessor_timestamp"><span class="id" title="variable">predecessor_timestamp</span></a> <a class="idref" href="Tezos.Main.html#timestamp"><span class="id" title="variable">timestamp</span></a> <a class="idref" href="Tezos.Main.html#fitness"><span class="id" title="variable">fitness</span></a> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctxt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">baker</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">block_delay</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply.html#begin_application"><span class="id" title="definition">Apply.begin_application</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Main.html#chain_id"><span class="id" title="variable">chain_id</span></a> <a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a> <a class="idref" href="Tezos.Main.html#predecessor_timestamp"><span class="id" title="variable">predecessor_timestamp</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mode</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Partial_application"><span class="id" title="constructor">Partial_application</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_application.block_header</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">block_header</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_application.baker</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">(|</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">Signature.Public_key</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|).(</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">S.SPublic_key.__hash_value</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">)</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">baker</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_application.block_delay</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">block_delay</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.mode</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">mode</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.chain_id</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">chain_id</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.ctxt</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">ctxt</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.op_count</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">0</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="begin_application"><span class="id" title="definition">begin_application</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="var">chain_id</span> : <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Chain_id"><span class="id" title="axiom">Chain_id</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.HASH.t"><span class="id" title="projection">S.HASH.t</span></a>)) (<span class="id" title="var">ctxt</span> : <a class="idref" href="Tezos.Environment.html#Context.t"><span class="id" title="axiom">Context.t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">predecessor_timestamp</span> : <a class="idref" href="Tezos.Environment.html#Time.t"><span class="id" title="axiom">Time.t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">predecessor_fitness</span> : <a class="idref" href="Tezos.Alpha_context.html#Fitness.t"><span class="id" title="definition">Alpha_context.Fitness.t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">block_header</span> : <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header"><span class="id" title="definition">Alpha_context.Block_header.block_header</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Lwt.t"><span class="id" title="definition">Lwt.t</span></a> (<a class="idref" href="Tezos.Environment.html#Error_monad.tzresult"><span class="id" title="definition">Error_monad.tzresult</span></a> <a class="idref" href="Tezos.Main.html#validation_state"><span class="id" title="definition">validation_state</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">Alpha_context.Block_header.block_header.shell</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">shell</span></a> <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.Build"><span class="id" title="constructor">|}</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">level</span> := <span class="id" title="var">shell</span>.(<a class="idref" href="Tezos.Environment.html#Block_header.shell_header.level"><span class="id" title="projection">Block_header.shell_header.level</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fitness</span> := <a class="idref" href="Tezos.Main.html#predecessor_fitness"><span class="id" title="variable">predecessor_fitness</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">timestamp</span> := <span class="id" title="var">shell</span>.(<a class="idref" href="Tezos.Environment.html#Block_header.shell_header.timestamp"><span class="id" title="projection">Block_header.shell_header.timestamp</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">=?</span></a> <span class="id" title="var">ctxt</span> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#prepare"><span class="id" title="definition">Alpha_context.prepare</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Main.html#level"><span class="id" title="variable">level</span></a> <a class="idref" href="Tezos.Main.html#predecessor_timestamp"><span class="id" title="variable">predecessor_timestamp</span></a> <a class="idref" href="Tezos.Main.html#timestamp"><span class="id" title="variable">timestamp</span></a> <a class="idref" href="Tezos.Main.html#fitness"><span class="id" title="variable">fitness</span></a> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctxt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">baker</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">block_delay</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply.html#begin_application"><span class="id" title="definition">Apply.begin_application</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Main.html#chain_id"><span class="id" title="variable">chain_id</span></a> <a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a> <a class="idref" href="Tezos.Main.html#predecessor_timestamp"><span class="id" title="variable">predecessor_timestamp</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mode</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Application"><span class="id" title="constructor">Application</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Application.block_header</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">block_header</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Application.baker</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">(|</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">Signature.Public_key</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|).(</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">S.SPublic_key.__hash_value</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">)</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">baker</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Application.block_delay</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">block_delay</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.mode</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">mode</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.chain_id</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">chain_id</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.ctxt</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">ctxt</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.op_count</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">0</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="begin_construction"><span class="id" title="definition">begin_construction</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="var">chain_id</span> : <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Chain_id"><span class="id" title="axiom">Chain_id</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.HASH.t"><span class="id" title="projection">S.HASH.t</span></a>)) (<span class="id" title="var">ctxt</span> : <a class="idref" href="Tezos.Environment.html#Context.t"><span class="id" title="axiom">Context.t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">predecessor_timestamp</span> : <a class="idref" href="Tezos.Environment.html#Time.t"><span class="id" title="axiom">Time.t</span></a>) (<span class="id" title="var">pred_level</span> : <span class="id" title="definition">int32</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">pred_fitness</span> : <a class="idref" href="Tezos.Alpha_context.html#Fitness.t"><span class="id" title="definition">Alpha_context.Fitness.t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">predecessor</span> : <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Block_hash"><span class="id" title="axiom">Block_hash</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.HASH.t"><span class="id" title="projection">S.HASH.t</span></a>)) (<span class="id" title="var">timestamp</span> : <a class="idref" href="Tezos.Environment.html#Time.t"><span class="id" title="axiom">Time.t</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">protocol_data</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Tezos.Main.html#block_header_data"><span class="id" title="definition">block_header_data</span></a>) (<span class="id" title="var">function_parameter</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Lwt.t"><span class="id" title="definition">Lwt.t</span></a> (<a class="idref" href="Tezos.Environment.html#Error_monad.tzresult"><span class="id" title="definition">Error_monad.tzresult</span></a> <a class="idref" href="Tezos.Main.html#validation_state"><span class="id" title="definition">validation_state</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<span class="id" title="var">_</span> := <a class="idref" href="Tezos.Main.html#function_parameter"><span class="id" title="variable">function_parameter</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">level</span> := <a class="idref" href="Tezos.Environment.html#Int32.succ"><span class="id" title="axiom">Int32.succ</span></a> <a class="idref" href="Tezos.Main.html#pred_level"><span class="id" title="variable">pred_level</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fitness</span> := <a class="idref" href="Tezos.Main.html#pred_fitness"><span class="id" title="variable">pred_fitness</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">=?</span></a> <span class="id" title="var">ctxt</span> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#prepare"><span class="id" title="definition">Alpha_context.prepare</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Main.html#level"><span class="id" title="variable">level</span></a> <a class="idref" href="Tezos.Main.html#predecessor_timestamp"><span class="id" title="variable">predecessor_timestamp</span></a> <a class="idref" href="Tezos.Main.html#timestamp"><span class="id" title="variable">timestamp</span></a> <a class="idref" href="Tezos.Main.html#fitness"><span class="id" title="variable">fitness</span></a> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">mode</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ctxt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Tezos.Main.html#protocol_data"><span class="id" title="variable">protocol_data</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">=?</span></a> <span class="id" title="var">ctxt</span> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">:=</span></a> <a class="idref" href="Tezos.Apply.html#begin_partial_construction"><span class="id" title="definition">Apply.begin_partial_construction</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mode</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Partial_construction"><span class="id" title="constructor">Partial_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_construction.predecessor</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">predecessor</span></a> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Main.html#mode"><span class="id" title="variable">mode</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">proto_header</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctxt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">protocol_data</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">baker</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">block_delay</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply.html#begin_full_construction"><span class="id" title="definition">Apply.begin_full_construction</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Main.html#predecessor_timestamp"><span class="id" title="variable">predecessor_timestamp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">proto_header</span>.(<a class="idref" href="Tezos.Alpha_context.html#Block_header.protocol_data.contents"><span class="id" title="projection">Alpha_context.Block_header.protocol_data.contents</span></a>) <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mode</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">baker</span> := <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Signature.Public_key"><span class="id" title="definition">Signature.Public_key</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.SPublic_key.__hash_value"><span class="id" title="projection">S.SPublic_key.__hash_value</span></a>) <a class="idref" href="Tezos.Main.html#baker"><span class="id" title="variable">baker</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Full_construction"><span class="id" title="constructor">Full_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Full_construction.predecessor</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">predecessor</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Full_construction.protocol_data</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">protocol_data</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Full_construction.baker</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">baker</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Full_construction.block_delay</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">block_delay</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Main.html#mode"><span class="id" title="variable">mode</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.mode</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">mode</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.chain_id</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">chain_id</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.ctxt</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">ctxt</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.op_count</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">0</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="apply_operation"><span class="id" title="definition">apply_operation</span></a> (<span class="id" title="var">function_parameter</span> : <a class="idref" href="Tezos.Main.html#validation_state"><span class="id" title="definition">validation_state</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Alpha_context.html#packed_operation"><span class="id" title="definition">Alpha_context.packed_operation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Lwt.t"><span class="id" title="definition">Lwt.t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Environment.html#Error_monad.tzresult"><span class="id" title="definition">Error_monad.tzresult</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Main.html#validation_state"><span class="id" title="definition">validation_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tezos.Apply_results.html#packed_operation_metadata"><span class="id" title="inductive">Apply_results.packed_operation_metadata</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;'<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.mode</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">mode</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.chain_id</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">chain_id</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.ctxt</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">ctxt</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.op_count</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">op_count</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">data</span> := <a class="idref" href="Tezos.Main.html#function_parameter"><span class="id" title="variable">function_parameter</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">operation</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">mode</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">mode</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Tezos.Main.html#Partial_application"><span class="id" title="constructor">Partial_application</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Pervasives.not"><span class="id" title="axiom">Pervasives.not</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Environment.html#List.__exists"><span class="id" title="axiom">List.__exists</span></a> (<span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Compare.Int"><span class="id" title="axiom">Compare.Int</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#Compare.S.equal"><span class="id" title="projection">Compare.S.equal</span></a>) 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Alpha_context.html#Operation.acceptable_passes"><span class="id" title="definition">Alpha_context.Operation.acceptable_passes</span></a> <a class="idref" href="Tezos.Main.html#operation"><span class="id" title="variable">operation</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Main.html#Partial_application"><span class="id" title="constructor">Partial_application</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">op_count</span> := <a class="idref" href="Tezos.Environment.html#Pervasives.op_plus"><span class="id" title="axiom">Pervasives.op_plus</span></a> <span class="id" title="var">op_count</span> 1 <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="Tezos.Main.html#with_op_count"><span class="id" title="definition">validation_state.with_op_count</span></a> <a class="idref" href="Tezos.Main.html#op_count"><span class="id" title="variable">op_count</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Main.html#with_ctxt"><span class="id" title="definition">validation_state.with_ctxt</span></a> <span class="id" title="var">ctxt</span> <span class="id" title="var">data</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#No_operation_metadata"><span class="id" title="constructor">Apply_results.No_operation_metadata</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">Alpha_context.packed_operation.shell</span></a> <a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">shell</span></a><a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">Alpha_context.packed_operation.protocol_data</span></a> <a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">Alpha_context.Operation_data</span></a> <a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">protocol_data</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Operation.packed_operation.Build"><span class="id" title="constructor">|}</span></a> := <a class="idref" href="Tezos.Main.html#operation"><span class="id" title="variable">operation</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">operation</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Tezos.Alpha_context.html#Operation.operation.Build"><span class="id" title="constructor">Alpha_context.operation.shell</span></a> <a class="idref" href="Tezos.Alpha_context.html#Operation.operation.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Alpha_context.html#Operation.operation.Build"><span class="id" title="constructor">shell</span></a><a class="idref" href="Tezos.Alpha_context.html#Operation.operation.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Operation.operation.Build"><span class="id" title="constructor">Alpha_context.operation.protocol_data</span></a> <a class="idref" href="Tezos.Alpha_context.html#Operation.operation.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Alpha_context.html#Operation.operation.Build"><span class="id" title="constructor">protocol_data</span></a> |} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">predecessor</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">baker</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">mode</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Main.html#Partial_application"><span class="id" title="constructor">Partial_application</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_application.block_header</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">Alpha_context.Block_header.block_header.shell</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">Block_header.shell_header.predecessor</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">predecessor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|};</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_application.baker</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">baker</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Application"><span class="id" title="constructor">Application</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Application.block_header</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">Alpha_context.Block_header.block_header.shell</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">Block_header.shell_header.predecessor</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">predecessor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|};</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Application.baker</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">baker</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Full_construction"><span class="id" title="constructor">Full_construction</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Full_construction.predecessor</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">predecessor</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Full_construction.baker</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">baker</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">predecessor</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">baker</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Partial_construction"><span class="id" title="constructor">Partial_construction</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_construction.predecessor</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">predecessor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">predecessor</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Signature.Public_key_hash"><span class="id" title="definition">Signature.Public_key_hash</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.SPublic_key_hash.zero"><span class="id" title="projection">S.SPublic_key_hash.zero</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctxt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">__result_value</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply.html#apply_operation"><span class="id" title="definition">Apply.apply_operation</span></a> <span class="id" title="var">ctxt</span> <span class="id" title="var">chain_id</span> <a class="idref" href="Tezos.Script_ir_translator.html#Optimized"><span class="id" title="constructor">Script_ir_translator.Optimized</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">predecessor</span> <span class="id" title="var">baker</span> (<a class="idref" href="Tezos.Alpha_context.html#Operation.__hash_value"><span class="id" title="definition">Alpha_context.Operation.__hash_value</span></a> <a class="idref" href="Tezos.Main.html#operation"><span class="id" title="variable">operation</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#operation"><span class="id" title="variable">operation</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">op_count</span> := <a class="idref" href="Tezos.Environment.html#Pervasives.op_plus"><span class="id" title="axiom">Pervasives.op_plus</span></a> <span class="id" title="var">op_count</span> 1 <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="Tezos.Main.html#with_op_count"><span class="id" title="definition">validation_state.with_op_count</span></a> <a class="idref" href="Tezos.Main.html#op_count"><span class="id" title="variable">op_count</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Main.html#with_ctxt"><span class="id" title="definition">validation_state.with_ctxt</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <span class="id" title="var">data</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Apply_results.html#Operation_metadata"><span class="id" title="constructor">Apply_results.Operation_metadata</span></a> <a class="idref" href="Tezos.Main.html#__result_value"><span class="id" title="variable">__result_value</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="finalize_block"><span class="id" title="definition">finalize_block</span></a> (<span class="id" title="var">function_parameter</span> : <a class="idref" href="Tezos.Main.html#validation_state"><span class="id" title="definition">validation_state</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Lwt.t"><span class="id" title="definition">Lwt.t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Environment.html#Error_monad.tzresult"><span class="id" title="definition">Error_monad.tzresult</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Environment.html#Updater.validation_result"><span class="id" title="definition">Updater.validation_result</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata"><span class="id" title="definition">Apply_results.block_metadata</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.mode</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">mode</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.ctxt</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">ctxt</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_state.op_count</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">op_count</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a> := <a class="idref" href="Tezos.Main.html#function_parameter"><span class="id" title="variable">function_parameter</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">mode</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Tezos.Main.html#Partial_construction"><span class="id" title="constructor">Partial_construction</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">level</span> := <a class="idref" href="Tezos.Alpha_context.html#Level.current"><span class="id" title="definition">Alpha_context.Level.current</span></a> <span class="id" title="var">ctxt</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">=?</span></a> <span class="id" title="var">voting_period_kind</span> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">:=</span></a> <a class="idref" href="Tezos.Alpha_context.html#Vote.get_current_period_kind"><span class="id" title="definition">Alpha_context.Vote.get_current_period_kind</span></a> <span class="id" title="var">ctxt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">baker</span> := <span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Signature.Public_key_hash"><span class="id" title="definition">Signature.Public_key_hash</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.SPublic_key_hash.zero"><span class="id" title="projection">S.SPublic_key_hash.zero</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">=?</span></a> <span class="id" title="var">ctxt</span> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(|</span><a class="idref" href="Tezos.Environment.html#Signature.Public_key_hash"><span class="id" title="definition">Signature.Public_key_hash</span></a><span class="id" title="notation">|)</span>.(<a class="idref" href="Tezos.Environment.html#S.SPublic_key_hash.Map"><span class="id" title="projection">S.SPublic_key_hash.Map</span></a>).(<a class="idref" href="Tezos.Environment.html#S.INDEXES_Map.fold"><span class="id" title="projection">S.INDEXES_Map.fold</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">delegate</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">deposit</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">ctxt</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">=?</span></a> <span class="id" title="var">ctxt</span> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">:=</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Delegate.freeze_deposit"><span class="id" title="definition">Alpha_context.Delegate.freeze_deposit</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Main.html#delegate"><span class="id" title="variable">delegate</span></a> <a class="idref" href="Tezos.Main.html#deposit"><span class="id" title="variable">deposit</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Alpha_context.html#get_deposits"><span class="id" title="definition">Alpha_context.get_deposits</span></a> <span class="id" title="var">ctxt</span>) (<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a> <span class="id" title="var">ctxt</span>) <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ctxt</span> := <a class="idref" href="Tezos.Alpha_context.html#finalize"><span class="id" title="definition">Alpha_context.finalize</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">{|</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.baker</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">baker</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.level</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">level</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.voting_period_kind</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">voting_period_kind</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.nonce_hash</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">None</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.consumed_gas</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Z.zero</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.deactivated</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">nil</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.balance_updates</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">|})</span></a><br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Partial_application"><span class="id" title="constructor">Partial_application</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_application.block_header</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">block_header</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_application.baker</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">baker</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Partial_application.block_delay</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">block_delay</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">level</span> := <a class="idref" href="Tezos.Alpha_context.html#Level.current"><span class="id" title="definition">Alpha_context.Level.current</span></a> <span class="id" title="var">ctxt</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">included_endorsements</span> := <a class="idref" href="Tezos.Alpha_context.html#included_endorsements"><span class="id" title="definition">Alpha_context.included_endorsements</span></a> <span class="id" title="var">ctxt</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><span class="id" title="var">_</span> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply.html#check_minimum_endorsements"><span class="id" title="definition">Apply.check_minimum_endorsements</span></a> <span class="id" title="var">ctxt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">block_header</span>.(<a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header.protocol_data"><span class="id" title="projection">Alpha_context.Block_header.block_header.protocol_data</span></a>).(<a class="idref" href="Tezos.Alpha_context.html#Block_header.protocol_data.contents"><span class="id" title="projection">Alpha_context.Block_header.protocol_data.contents</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">block_delay</span> <a class="idref" href="Tezos.Main.html#included_endorsements"><span class="id" title="variable">included_endorsements</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">=?</span></a> <span class="id" title="var">voting_period_kind</span> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">:=</span></a> <a class="idref" href="Tezos.Alpha_context.html#Vote.get_current_period_kind"><span class="id" title="definition">Alpha_context.Vote.get_current_period_kind</span></a> <span class="id" title="var">ctxt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ctxt</span> := <a class="idref" href="Tezos.Alpha_context.html#finalize"><span class="id" title="definition">Alpha_context.finalize</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ctxt</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">{|</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.baker</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">baker</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.level</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">level</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.voting_period_kind</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">voting_period_kind</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.nonce_hash</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">None</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.consumed_gas</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Z.zero</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.deactivated</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">nil</span></a><a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">Apply_results.block_metadata.balance_updates</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Apply_results.html#block_metadata.Build"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">|})</span></a><br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Main.html#Application"><span class="id" title="constructor">Application</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Application.block_header</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">Alpha_context.Block_header.block_header.protocol_data</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">Alpha_context.Block_header.protocol_data.contents</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">protocol_data</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|};</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Application.baker</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">baker</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Application.block_delay</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">block_delay</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Full_construction"><span class="id" title="constructor">Full_construction</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">{|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Full_construction.protocol_data</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">protocol_data</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Full_construction.baker</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">baker</span></a><a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">validation_mode.Full_construction.block_delay</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">block_delay</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#Build"><span class="id" title="constructor">|}</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctxt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">receipt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Apply.html#finalize_application"><span class="id" title="definition">Apply.finalize_application</span></a> <span class="id" title="var">ctxt</span> <span class="id" title="var">protocol_data</span> <span class="id" title="var">baker</span> <span class="id" title="var">block_delay</span> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">level</span> := <a class="idref" href="Tezos.Alpha_context.html#Level.current"><span class="id" title="definition">Alpha_context.Level.current</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">priority</span> := <span class="id" title="var">protocol_data</span>.(<a class="idref" href="Tezos.Alpha_context.html#Block_header.contents.priority"><span class="id" title="projection">Alpha_context.Block_header.contents.priority</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">raw_level</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Raw_level.to_int32"><span class="id" title="definition">Alpha_context.Raw_level.to_int32</span></a> <a class="idref" href="Tezos.Main.html#level"><span class="id" title="variable">level</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#Level.t.level"><span class="id" title="projection">Alpha_context.Level.t.level</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fitness</span> := <a class="idref" href="Tezos.Alpha_context.html#Fitness.current"><span class="id" title="definition">Alpha_context.Fitness.current</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">commit_message</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Format.asprintf"><span class="id" title="axiom">Format.asprintf</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.Format</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.String_literal</span> "lvl "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.Int32</span> <span class="id" title="constructor">CamlinternalFormatBasics.Int_d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">CamlinternalFormatBasics.No_padding</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">CamlinternalFormatBasics.No_precision</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.String_literal</span> ", fit 1:"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.Int64</span> <span class="id" title="constructor">CamlinternalFormatBasics.Int_d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">CamlinternalFormatBasics.No_padding</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">CamlinternalFormatBasics.No_precision</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.String_literal</span> ", prio "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.Int</span> <span class="id" title="constructor">CamlinternalFormatBasics.Int_d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">CamlinternalFormatBasics.No_padding</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">CamlinternalFormatBasics.No_precision</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.String_literal</span> ", "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.Int</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">CamlinternalFormatBasics.Int_d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">CamlinternalFormatBasics.No_padding</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">CamlinternalFormatBasics.No_precision</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">CamlinternalFormatBasics.String_literal</span> " ops"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">CamlinternalFormatBasics.End_of_format</span>)))))))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"lvl %ld, fit 1:%Ld, prio %d, %d ops") <a class="idref" href="Tezos.Main.html#raw_level"><span class="id" title="variable">raw_level</span></a> <a class="idref" href="Tezos.Main.html#fitness"><span class="id" title="variable">fitness</span></a> <a class="idref" href="Tezos.Main.html#priority"><span class="id" title="variable">priority</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">op_count</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ctxt</span> := <a class="idref" href="Tezos.Alpha_context.html#finalize"><span class="id" title="definition">Alpha_context.finalize</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Tezos.Main.html#commit_message"><span class="id" title="variable">commit_message</span></a>) <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Main.html#receipt"><span class="id" title="variable">receipt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="compare_operations"><span class="id" title="definition">compare_operations</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="var">op1</span> : <a class="idref" href="Tezos.Alpha_context.html#packed_operation"><span class="id" title="definition">Alpha_context.packed_operation</span></a>) (<span class="id" title="var">op2</span> : <a class="idref" href="Tezos.Alpha_context.html#packed_operation"><span class="id" title="definition">Alpha_context.packed_operation</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="definition">int</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="Tezos.Alpha_context.html#Operation_data"><span class="id" title="constructor">Alpha_context.Operation_data</span></a> <span class="id" title="var">op1</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#op1"><span class="id" title="variable">op1</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#packed_operation.protocol_data"><span class="id" title="projection">Alpha_context.packed_operation.protocol_data</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="Tezos.Alpha_context.html#Operation_data"><span class="id" title="constructor">Alpha_context.Operation_data</span></a> <span class="id" title="var">op2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#op2"><span class="id" title="variable">op2</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#packed_operation.protocol_data"><span class="id" title="projection">Alpha_context.packed_operation.protocol_data</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Main.html#op1"><span class="id" title="variable">op1</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#protocol_data.contents"><span class="id" title="projection">Alpha_context.protocol_data.contents</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#op2"><span class="id" title="variable">op2</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#protocol_data.contents"><span class="id" title="projection">Alpha_context.protocol_data.contents</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Endorsement"><span class="id" title="constructor">Alpha_context.Endorsement</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Endorsement"><span class="id" title="constructor">Alpha_context.Endorsement</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Endorsement"><span class="id" title="constructor">Alpha_context.Endorsement</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 1<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Endorsement"><span class="id" title="constructor">Alpha_context.Endorsement</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ (-1)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Seed_nonce_revelation"><span class="id" title="constructor">Alpha_context.Seed_nonce_revelation</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Seed_nonce_revelation"><span class="id" title="constructor">Alpha_context.Seed_nonce_revelation</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Seed_nonce_revelation"><span class="id" title="constructor">Alpha_context.Seed_nonce_revelation</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 1<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Seed_nonce_revelation"><span class="id" title="constructor">Alpha_context.Seed_nonce_revelation</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ (-1)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Double_endorsement_evidence"><span class="id" title="constructor">Alpha_context.Double_endorsement_evidence</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Double_endorsement_evidence"><span class="id" title="constructor">Alpha_context.Double_endorsement_evidence</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Double_endorsement_evidence"><span class="id" title="constructor">Alpha_context.Double_endorsement_evidence</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 1<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Double_endorsement_evidence"><span class="id" title="constructor">Alpha_context.Double_endorsement_evidence</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(-1)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Double_baking_evidence"><span class="id" title="constructor">Alpha_context.Double_baking_evidence</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Double_baking_evidence"><span class="id" title="constructor">Alpha_context.Double_baking_evidence</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Double_baking_evidence"><span class="id" title="constructor">Alpha_context.Double_baking_evidence</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 1<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Double_baking_evidence"><span class="id" title="constructor">Alpha_context.Double_baking_evidence</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ (-1)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Activate_account"><span class="id" title="constructor">Alpha_context.Activate_account</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Activate_account"><span class="id" title="constructor">Alpha_context.Activate_account</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Activate_account"><span class="id" title="constructor">Alpha_context.Activate_account</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 1<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Activate_account"><span class="id" title="constructor">Alpha_context.Activate_account</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ (-1)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Proposals"><span class="id" title="constructor">Alpha_context.Proposals</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Proposals"><span class="id" title="constructor">Alpha_context.Proposals</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Proposals"><span class="id" title="constructor">Alpha_context.Proposals</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 1<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Proposals"><span class="id" title="constructor">Alpha_context.Proposals</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ (-1)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Ballot"><span class="id" title="constructor">Alpha_context.Ballot</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Ballot"><span class="id" title="constructor">Alpha_context.Ballot</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 0<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Ballot"><span class="id" title="constructor">Alpha_context.Ballot</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ 1<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Ballot"><span class="id" title="constructor">Alpha_context.Ballot</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ (-1)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Manager_operation"><span class="id" title="constructor">Alpha_context.Manager_operation</span></a> <span class="id" title="var">op1</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Manager_operation"><span class="id" title="constructor">Alpha_context.Manager_operation</span></a> <span class="id" title="var">op2</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Z.compare"><span class="id" title="axiom">Z.compare</span></a> <a class="idref" href="Tezos.Main.html#op1"><span class="id" title="variable">op1</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#contents.Manager_operation.counter"><span class="id" title="projection">Alpha_context.contents.Manager_operation.counter</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#op2"><span class="id" title="variable">op2</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#contents.Manager_operation.counter"><span class="id" title="projection">Alpha_context.contents.Manager_operation.counter</span></a>)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Cons"><span class="id" title="constructor">Alpha_context.Cons</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Manager_operation"><span class="id" title="constructor">Alpha_context.Manager_operation</span></a> <span class="id" title="var">op1</span>) <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Manager_operation"><span class="id" title="constructor">Alpha_context.Manager_operation</span></a> <span class="id" title="var">op2</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Z.compare"><span class="id" title="axiom">Z.compare</span></a> <a class="idref" href="Tezos.Main.html#op1"><span class="id" title="variable">op1</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#contents.Manager_operation.counter"><span class="id" title="projection">Alpha_context.contents.Manager_operation.counter</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#op2"><span class="id" title="variable">op2</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#contents.Manager_operation.counter"><span class="id" title="projection">Alpha_context.contents.Manager_operation.counter</span></a>)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Single"><span class="id" title="constructor">Alpha_context.Single</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Manager_operation"><span class="id" title="constructor">Alpha_context.Manager_operation</span></a> <span class="id" title="var">op1</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Cons"><span class="id" title="constructor">Alpha_context.Cons</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Manager_operation"><span class="id" title="constructor">Alpha_context.Manager_operation</span></a> <span class="id" title="var">op2</span>) <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Z.compare"><span class="id" title="axiom">Z.compare</span></a> <a class="idref" href="Tezos.Main.html#op1"><span class="id" title="variable">op1</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#contents.Manager_operation.counter"><span class="id" title="projection">Alpha_context.contents.Manager_operation.counter</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#op2"><span class="id" title="variable">op2</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#contents.Manager_operation.counter"><span class="id" title="projection">Alpha_context.contents.Manager_operation.counter</span></a>)<br/>
&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Cons"><span class="id" title="constructor">Alpha_context.Cons</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Manager_operation"><span class="id" title="constructor">Alpha_context.Manager_operation</span></a> <span class="id" title="var">op1</span>) <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Cons"><span class="id" title="constructor">Alpha_context.Cons</span></a> (<a class="idref" href="Tezos.Alpha_context.html#Manager_operation"><span class="id" title="constructor">Alpha_context.Manager_operation</span></a> <span class="id" title="var">op2</span>) <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Z.compare"><span class="id" title="axiom">Z.compare</span></a> <a class="idref" href="Tezos.Main.html#op1"><span class="id" title="variable">op1</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#contents.Manager_operation.counter"><span class="id" title="projection">Alpha_context.contents.Manager_operation.counter</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#op2"><span class="id" title="variable">op2</span></a>.(<a class="idref" href="Tezos.Alpha_context.html#contents.Manager_operation.counter"><span class="id" title="projection">Alpha_context.contents.Manager_operation.counter</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="axiom">unreachable_gadt_branch</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="init"><span class="id" title="definition">init</span></a> (<span class="id" title="var">ctxt</span> : <a class="idref" href="Tezos.Environment.html#Context.t"><span class="id" title="axiom">Context.t</span></a>) (<span class="id" title="var">block_header</span> : <a class="idref" href="Tezos.Environment.html#Block_header.shell_header"><span class="id" title="definition">Block_header.shell_header</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Lwt.t"><span class="id" title="definition">Lwt.t</span></a> (<a class="idref" href="Tezos.Environment.html#Error_monad.tzresult"><span class="id" title="definition">Error_monad.tzresult</span></a> <a class="idref" href="Tezos.Environment.html#Updater.validation_result"><span class="id" title="definition">Updater.validation_result</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">level</span> := <a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a>.(<a class="idref" href="Tezos.Environment.html#Block_header.shell_header.level"><span class="id" title="projection">Block_header.shell_header.level</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fitness</span> := <a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a>.(<a class="idref" href="Tezos.Environment.html#Block_header.shell_header.fitness"><span class="id" title="projection">Block_header.shell_header.fitness</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">timestamp</span> := <a class="idref" href="Tezos.Main.html#block_header"><span class="id" title="variable">block_header</span></a>.(<a class="idref" href="Tezos.Environment.html#Block_header.shell_header.timestamp"><span class="id" title="projection">Block_header.shell_header.timestamp</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">typecheck</span> (<span class="id" title="var">ctxt</span> : <a class="idref" href="Tezos.Alpha_context.html#context"><span class="id" title="definition">Alpha_context.context</span></a>) (<span class="id" title="var">script</span> : <a class="idref" href="Tezos.Alpha_context.html#Script.t"><span class="id" title="definition">Alpha_context.Script.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="Tezos.Environment.html#Lwt.t"><span class="id" title="definition">Lwt.t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Tezos.Environment.html#Error_monad.tzresult"><span class="id" title="definition">Error_monad.tzresult</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Alpha_context.html#Script.t"><span class="id" title="definition">Alpha_context.Script.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Tezos.Alpha_context.html#Contract.big_map_diff"><span class="id" title="definition">Alpha_context.Contract.big_map_diff</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#context"><span class="id" title="definition">Alpha_context.context</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Tezos.Script_ir_translator.html#Ex_script"><span class="id" title="constructor">Script_ir_translator.Ex_script</span></a> <span class="id" title="var">parsed_script</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ctxt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Script_ir_translator.html#parse_script"><span class="id" title="definition">Script_ir_translator.parse_script</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="Tezos.Main.html#script"><span class="id" title="variable">script</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">__Ex_script_'b</span> <span class="id" title="notation">[</span><span class="id" title="var">parsed_script</span><span class="id" title="notation">,</span> <span class="id" title="var">ctxt</span><span class="id" title="notation">]</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="var">A</span> := <span class="id" title="keyword">Set</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">__Ex_script_'b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">[</span><a class="idref" href="Tezos.Script_typed_ir.html#script"><span class="id" title="definition">Script_typed_ir.script</span></a> <a class="idref" href="Tezos.Main.html#__Ex_script_'b"><span class="id" title="variable">__Ex_script_'b</span></a> <span class="id" title="notation">**</span> <a class="idref" href="Tezos.Alpha_context.html#context"><span class="id" title="definition">Alpha_context.context</span></a><span class="id" title="notation">]</span>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">[</span><a class="idref" href="Tezos.Main.html#parsed_script"><span class="id" title="variable">parsed_script</span></a><span class="id" title="notation">,</span> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a><span class="id" title="notation">]</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">storage</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">big_map_diff</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ctxt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Script_ir_translator.html#extract_big_map_diff"><span class="id" title="definition">Script_ir_translator.extract_big_map_diff</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Script_ir_translator.html#Optimized"><span class="id" title="constructor">Script_ir_translator.Optimized</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="Tezos.Script_ir_translator.html#no_big_map_id"><span class="id" title="definition">Script_ir_translator.no_big_map_id</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Script_ir_translator.html#no_big_map_id"><span class="id" title="definition">Script_ir_translator.no_big_map_id</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#parsed_script"><span class="id" title="variable">parsed_script</span></a>.(<a class="idref" href="Tezos.Script_typed_ir.html#script.storage_type"><span class="id" title="projection">Script_typed_ir.script.storage_type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#parsed_script"><span class="id" title="variable">parsed_script</span></a>.(<a class="idref" href="Tezos.Script_typed_ir.html#script.storage"><span class="id" title="projection">Script_typed_ir.script.storage</span></a>) <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">=?</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">storage</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ctxt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Script_ir_translator.html#unparse_data"><span class="id" title="definition">Script_ir_translator.unparse_data</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Script_ir_translator.html#Optimized"><span class="id" title="constructor">Script_ir_translator.Optimized</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#parsed_script"><span class="id" title="variable">parsed_script</span></a>.(<a class="idref" href="Tezos.Script_typed_ir.html#script.storage_type"><span class="id" title="projection">Script_typed_ir.script.storage_type</span></a>) <a class="idref" href="Tezos.Main.html#storage"><span class="id" title="variable">storage</span></a> <a class="idref" href="Tezos.Environment.html#0bda090fdf5de4b8721bd60dca0fe8ed"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">storage</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#Script.__lazy_expr_value"><span class="id" title="definition">Alpha_context.Script.__lazy_expr_value</span></a> (<a class="idref" href="Tezos.Environment.html#Micheline.strip_locations"><span class="id" title="axiom">Micheline.strip_locations</span></a> <a class="idref" href="Tezos.Main.html#storage"><span class="id" title="variable">storage</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(((</span></a><a class="idref" href="Tezos.Alpha_context.html#Script.t.with_storage"><span class="id" title="definition">Alpha_context.Script.t.with_storage</span></a> <a class="idref" href="Tezos.Main.html#storage"><span class="id" title="variable">storage</span></a> <a class="idref" href="Tezos.Main.html#script"><span class="id" title="variable">script</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="Tezos.Main.html#big_map_diff"><span class="id" title="variable">big_map_diff</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">let</span></a><a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">=?</span></a> <span class="id" title="var">ctxt</span> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Tezos.Alpha_context.html#prepare_first_block"><span class="id" title="definition">Alpha_context.prepare_first_block</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a> <a class="idref" href="Tezos.Main.html#typecheck"><span class="id" title="variable">typecheck</span></a> <a class="idref" href="Tezos.Main.html#level"><span class="id" title="variable">level</span></a> <a class="idref" href="Tezos.Main.html#timestamp"><span class="id" title="variable">timestamp</span></a> <a class="idref" href="Tezos.Main.html#fitness"><span class="id" title="variable">fitness</span></a> <a class="idref" href="Tezos.Environment.html#fe7ed8135c3e89d56eff82d8ee27a32f"><span class="id" title="notation">in</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Tezos.Environment.html#Error_monad.__return"><span class="id" title="definition">Error_monad.__return</span></a> (<a class="idref" href="Tezos.Alpha_context.html#finalize"><span class="id" title="definition">Alpha_context.finalize</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="Tezos.Main.html#ctxt"><span class="id" title="variable">ctxt</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="operation"><span class="id" title="definition">operation</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="Tezos.Alpha_context.html#packed_operation"><span class="id" title="definition">Alpha_context.packed_operation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="block_header"><span class="id" title="definition">block_header</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="Tezos.Alpha_context.html#Block_header.block_header"><span class="id" title="definition">Alpha_context.Block_header.block_header</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>