Exception ('TailLess', ())

Exception ('Wtf', (Type ('Z') * Type ('string')))

((),
  Value
    (non_rec, 'f', [ 'A'; 'B' ], [ ('x', 'B') ],
      Some Monad ([ 'TailLess' ], 'A')) =
    Apply (unknown, Variable (unknown, 'TailLess'), Tuple (unknown)))

((),
  Value
    (non_rec, 'g', [ 'A'; 'B' ], [ ('x', 'B') ], Some Monad ([ 'Wtf' ], 'A')) =
    Apply
      (unknown, Variable (unknown, 'Wtf'),
        Tuple
          (unknown, Constant (unknown, Int(12)),
            Constant (unknown, String("no")))))

((),
  Value
    (rec, 'h_rec', [ 'A' ],
      [ ('counter', Type ('nat')); ('l', Type ('list', 'A')) ],
      Some Monad ([ 'IO'; 'NonTermination'; 'TailLess' ], 'A')) =
    Match
      (unknown, Variable (unknown, 'counter'),
        [
          (Nat(0),
            Lift
              (unknown, [ 'NonTermination' ],
                [ 'IO'; 'NonTermination'; 'TailLess' ],
                Apply
                  (unknown,
                    Variable
                      (unknown,
                        'not_terminated'),
                    Variable (unknown, 'tt'))));
          (Constructor ('S', 'counter'),
            Match
              (unknown, Variable (unknown, 'l'),
                [
                  (Constructor ('[]'),
                    Lift
                      (unknown,
                        [
                          'IO';
                          'TailLess'
                        ],
                        [
                          'IO';
                          'NonTermination';
                          'TailLess'
                        ],
                        Bind
                          (unknown,
                            Lift
                              (unknown,
                                [
                                  'IO'
                                ],
                                [
                                  'IO';
                                  'TailLess'
                                ],
                                Apply
                                  (unknown,
                                    Variable
                                      (unknown,
                                        'print_string'),
                                    Constant
                                      (unknown,
                                        String("no tail")))),
                            None,
                            Lift
                              (unknown,
                                [
                                  'TailLess'
                                ],
                                [
                                  'IO';
                                  'TailLess'
                                ],
                                Apply
                                  (unknown,
                                    Variable
                                      (unknown,
                                        'TailLess'),
                                    Tuple
                                      (unknown))))));
                  (Constructor
                    ('cons',
                      'x',
                      Constructor
                        ('[]')),
                    Return
                      (unknown,
                        Variable
                          (unknown,
                            'x')));
                  (Constructor ('cons', Any, 'xs'),
                    Apply
                      (unknown,
                        Apply
                          (unknown,
                            Variable
                              (unknown,
                                'h_rec'),
                            Variable
                              (unknown,
                                'counter')),
                        Variable
                          (unknown,
                            'xs')))
                ]))
        ]))

((),
  Value
    (non_rec, 'h', [ 'A' ], [ ('l', Type ('list', 'A')) ],
      Some Monad ([ 'Counter'; 'IO'; 'NonTermination'; 'TailLess' ], 'A')) =
    Bind
      (unknown,
        Lift
          (unknown, [ 'Counter' ],
            [ 'Counter'; 'IO'; 'NonTermination'; 'TailLess' ],
            Apply
              (unknown, Variable (unknown, 'read_counter'),
                Variable (unknown, 'tt'))), Some 'counter',
        Lift
          (unknown, [ 'IO'; 'NonTermination'; 'TailLess' ],
            [ 'Counter'; 'IO'; 'NonTermination'; 'TailLess' ],
            Apply
              (unknown,
                Apply
                  (unknown, Variable (unknown, 'h_rec'),
                    Variable (unknown, 'counter')), Variable (unknown, 'l')))))
