1 Reference (r, Type (Z/1))

3
(. -[ r/0 ]-> .,
  Value (non_rec, plus_one, [ A ], [ (x, A) ], Some Type (Z/1)) =
    Match
      ((?, Effect ([ r/0 ], .)), Variable ((?, Effect ([ ], .)), x/0),
        [
          (Any,
            Apply
              ((?, Effect ([ r/0 ], .)),
                Apply
                  ((4, Effect ([ r/0 ], .)),
                    Variable
                      ((4, Effect ([ ], .)),
                        Z.add/1),
                    Apply
                      ((4,
                        Effect
                          ([
                            r/0
                          ], .)),
                        Variable
                          ((?,
                            Effect
                              ([
                              ],
                                .
                                  -[
                                    r/0
                                  ]->
                                  .)),
                            read_r/0),
                        Tuple
                          ((?,
                            Effect
                              ([
                              ],
                                .))))),
                Constant ((4, Effect ([ ], .)), Int(1))))
        ]))

6 Reference (s, Type (string/1))

8
(. -[ s/0; Failure/1 ]-> .,
  Value (non_rec, fail, [ A; B ], [ (x, B) ], Some A) =
    Match
      ((?, Effect ([ s/0; Failure/1 ], .)),
        Variable ((?, Effect ([ ], .)), x/0),
        [
          (Any,
            Apply
              ((8, Effect ([ s/0; Failure/1 ], .)),
                Variable
                  ((8,
                    Effect
                      ([ ],
                        .
                          -[
                            Failure/1
                          ]-> .)),
                    failwith/1),
                Apply
                  ((8, Effect ([ s/0 ], .)),
                    Variable
                      ((?,
                        Effect
                          ([ ],
                            .
                              -[
                                s/0
                              ]->
                              .)),
                        read_s/0),
                    Tuple ((?, Effect ([ ], .))))))
        ]))

10
(. -[ r/0 ]-> .,
  Value (non_rec, reset, [ A ], [ (x, A) ], Some Type (unit/1)) =
    Match
      ((?, Effect ([ r/0 ], .)), Variable ((?, Effect ([ ], .)), x/0),
        [
          (Any,
            Apply
              ((11, Effect ([ r/0 ], .)),
                Variable
                  ((?, Effect ([ ], . -[ r/0 ]-> .)),
                    write_r/0),
                Constant ((11, Effect ([ ], .)), Int(0))))
        ]))

13
(. -[ r/0 ]-> .,
  Value (non_rec, incr, [ A ], [ (x, A) ], Some Type (unit/1)) =
    Match
      ((?, Effect ([ r/0 ], .)), Variable ((?, Effect ([ ], .)), x/0),
        [
          (Any,
            Apply
              ((14, Effect ([ r/0 ], .)),
                Variable
                  ((?, Effect ([ ], . -[ r/0 ]-> .)),
                    write_r/0),
                Apply
                  ((?, Effect ([ r/0 ], .)),
                    Apply
                      ((14,
                        Effect
                          ([
                            r/0
                          ], .)),
                        Variable
                          ((14,
                            Effect
                              ([
                              ],
                                .)),
                            Z.add/1),
                        Apply
                          ((14,
                            Effect
                              ([
                                r/0
                              ],
                                .)),
                            Variable
                              ((?,
                                Effect
                                  ([
                                  ],
                                    .
                                      -[
                                        r/0
                                      ]->
                                      .)),
                                read_r/0),
                            Tuple
                              ((?,
                                Effect
                                  ([
                                  ],
                                    .))))),
                    Constant
                      ((14, Effect ([ ], .)),
                        Int(1)))))
        ]))
