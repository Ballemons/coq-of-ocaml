Inductive 'tree':
  ([ ],
    [ ('Leaf', [ ]); ('Node', [ Type ('tree'); Type ('Z'); Type ('tree') ]) ])

((),
  Value
    (rec, 'find_rec', [ ],
      [ ('counter', Type ('nat')); ('x', Type ('Z')); ('t', Type ('tree')) ],
      Some Type ('bool')) =
    Match
      ((), Variable ((), 'counter'),
        [
          (Nat(0),
            Apply
              ((), Variable ((), 'not_terminated'),
                Variable ((), 'tt')));
          (Constructor ('S', 'counter'),
            Match
              ((), Variable ((), 't'),
                [
                  (Constructor ('Leaf'),
                    Constructor
                      ((),
                        'false'));
                  (Constructor
                    ('Node',
                      't1',
                      'x'',
                      't2'),
                    IfThenElse
                      ((),
                        Apply
                          ((),
                            Apply
                              ((),
                                Variable
                                  ((),
                                    'Z.ltb'),
                                Variable
                                  ((),
                                    'x')),
                            Variable
                              ((),
                                'x'')),
                        Apply
                          ((),
                            Apply
                              ((),
                                Apply
                                  ((),
                                    Variable
                                      ((),
                                        'find_rec'),
                                    Variable
                                      ((),
                                        'counter')),
                                Variable
                                  ((),
                                    'x')),
                            Variable
                              ((),
                                't1')),
                        IfThenElse
                          ((),
                            Apply
                              ((),
                                Apply
                                  ((),
                                    Variable
                                      ((),
                                        'Z.ltb'),
                                    Variable
                                      ((),
                                        'x'')),
                                Variable
                                  ((),
                                    'x')),
                            Apply
                              ((),
                                Apply
                                  ((),
                                    Apply
                                      ((),
                                        Variable
                                          ((),
                                            'find_rec'),
                                        Variable
                                          ((),
                                            'counter')),
                                    Variable
                                      ((),
                                        'x')),
                                Variable
                                  ((),
                                    't2')),
                            Constructor
                              ((),
                                'true'))))
                ]))
        ]))

((),
  Value
    (non_rec, 'find', [ ], [ ('x', Type ('Z')); ('t', Type ('tree')) ],
      Some Type ('bool')) =
    Let () (non_rec, 'counter', [ ], [ ], None) =
      Apply ((), Variable ((), 'read_counter'), Variable ((), 'tt')) in
    Apply
      ((),
        Apply
          ((), Apply ((), Variable ((), 'find_rec'), Variable ((), 'counter')),
            Variable ((), 'x')), Variable ((), 't')))
