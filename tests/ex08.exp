Inductive 't1':
  ([ ],
    [
      ('C1', [ Type ('Z') ]);
      ('C2', [ Type ('bool'); Type ('Z') ]);
      ('C3', [ ])
    ])

((),
  Value (non_rec, 'n', [ ], [ ], Some Type ('t1')) =
    Constructor (8, 'C2', Constructor (8, 'false'), Constant (8, Int(3))))

((),
  Value (non_rec, 'm', [ ], [ ], Some Type ('bool')) =
    Match
      (10, Variable (10, 'n'),
        [
          (Constructor ('C2', 'b', Any), Variable (11, 'b'));
          (Any, Constructor (12, 'true'))
        ]))

Inductive 't2':
  ([ 'a' ], [ ('D1', [ ]); ('D2', [ 'a'; Type ('t2', 'a') ]) ])

((),
  Value
    (rec, 'of_list_rec', [ 'A' ],
      [ ('counter', Type ('nat')); ('l', Type ('list', 'A')) ],
      Some Type ('t2', 'A')) =
    Match
      (?, Variable (?, 'counter'),
        [
          (Nat(0),
            Apply (?, Variable (?, 'not_terminated'), Variable (?, 'tt')));
          (Constructor ('S', 'counter'),
            Match
              (19, Variable (19, 'l'),
                [
                  (Constructor ('[]'),
                    Constructor
                      (20,
                        'D1'));
                  (Constructor ('cons', 'x', 'xs'),
                    Constructor
                      (21,
                        'D2',
                        Variable
                          (21,
                            'x'),
                        Apply
                          (21,
                            Apply
                              (?,
                                Variable
                                  (?,
                                    'of_list_rec'),
                                Variable
                                  (?,
                                    'counter')),
                            Variable
                              (21,
                                'xs'))))
                ]))
        ]))

((),
  Value
    (non_rec, 'of_list', [ 'A' ], [ ('l', Type ('list', 'A')) ],
      Some Type ('t2', 'A')) =
    Let ? (non_rec, 'counter', [ ], [ ], None) =
      Apply (?, Variable (?, 'read_counter'), Variable (?, 'tt')) in
    Apply
      (?, Apply (?, Variable (?, 'of_list_rec'), Variable (?, 'counter')),
        Variable (?, 'l')))

((),
  Value
    (rec, 'sum_rec', [ ],
      [ ('counter', Type ('nat')); ('l', Type ('t2', Type ('Z'))) ],
      Some Type ('Z')) =
    Match
      (?, Variable (?, 'counter'),
        [
          (Nat(0),
            Apply (?, Variable (?, 'not_terminated'), Variable (?, 'tt')));
          (Constructor ('S', 'counter'),
            Match
              (24, Variable (24, 'l'),
                [
                  (Constructor ('D1'),
                    Constant
                      (25,
                        Int(0)));
                  (Constructor ('D2', 'x', 'xs'),
                    Apply
                      (?,
                        Apply
                          (26,
                            Variable
                              (26,
                                'Z.add'),
                            Variable
                              (26,
                                'x')),
                        Apply
                          (26,
                            Apply
                              (?,
                                Variable
                                  (?,
                                    'sum_rec'),
                                Variable
                                  (?,
                                    'counter')),
                            Variable
                              (26,
                                'xs'))))
                ]))
        ]))

((),
  Value
    (non_rec, 'sum', [ ], [ ('l', Type ('t2', Type ('Z'))) ], Some Type ('Z')) =
    Let ? (non_rec, 'counter', [ ], [ ], None) =
      Apply (?, Variable (?, 'read_counter'), Variable (?, 'tt')) in
    Apply
      (?, Apply (?, Variable (?, 'sum_rec'), Variable (?, 'counter')),
        Variable (?, 'l')))

((),
  Value (non_rec, 's', [ ], [ ], Some Type ('Z')) =
    Apply
      (28, Variable (28, 'sum'),
        Apply
          (28, Variable (28, 'of_list'),
            Constructor
              (28, 'cons', Constant (28, Int(5)),
                Constructor
                  (28, 'cons', Constant (28, Int(7)),
                    Constructor
                      (28, 'cons', Constant (28, Int(3)), Constructor (28, '[]')))))))
