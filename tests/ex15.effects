Inductive 'set':
  ([ ], [ ('Empty', [ ]); ('Node', [ Type ('set'); Type ('Z'); Type ('set') ]) ])

(.,
  Value (non_rec, 'empty', [ ], [ ], Some Type ('set')) =
    Constructor ((unknown, Effect ([ ], .)), 'Empty'))

(. -> . -> . -[ 'NonTermination' ]-> .,
  Value
    (rec, 'member_rec', [ ],
      [ ('counter', Type ('nat')); ('x', Type ('Z')); ('s', Type ('set')) ],
      Some Type ('bool')) =
    Match
      ((unknown, Effect ([ 'NonTermination' ], .)),
        Variable ((unknown, Effect ([ ], .)), 'counter'),
        [
          (Nat(0),
            Apply
              ((unknown, Effect ([ 'NonTermination' ], .)),
                Variable
                  ((unknown,
                    Effect
                      ([ ],
                        .
                          -[
                            'NonTermination'
                          ]-> .)),
                    'not_terminated'),
                Variable ((unknown, Effect ([ ], .)), 'tt')));
          (Constructor ('S', 'counter'),
            Match
              ((unknown, Effect ([ 'NonTermination' ], .)),
                Variable ((unknown, Effect ([ ], .)), 's'),
                [
                  (Constructor ('Empty'),
                    Constructor
                      ((unknown,
                        Effect
                          ([
                          ],
                            .)),
                        'false'));
                  (Constructor ('Node', 's1', 'y', 's2'),
                    IfThenElse
                      ((unknown,
                        Effect
                          ([
                            'NonTermination'
                          ],
                            .)),
                        Apply
                          ((unknown,
                            Effect
                              ([
                              ],
                                .)),
                            Apply
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    'Z.ltb'),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    'x')),
                            Variable
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                'y')),
                        Apply
                          ((unknown,
                            Effect
                              ([
                                'NonTermination'
                              ],
                                .)),
                            Apply
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .
                                      -[
                                        'NonTermination'
                                      ]->
                                      .)),
                                Apply
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .
                                          ->
                                          .
                                            -[
                                              'NonTermination'
                                            ]->
                                            .)),
                                    Variable
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .
                                              ->
                                              .
                                                ->
                                                .
                                                  -[
                                                    'NonTermination'
                                                  ]->
                                                  .)),
                                        'member_rec'),
                                    Variable
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .)),
                                        'counter')),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    'x')),
                            Variable
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                's1')),
                        IfThenElse
                          ((unknown,
                            Effect
                              ([
                                'NonTermination'
                              ],
                                .)),
                            Apply
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                Apply
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    Variable
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .)),
                                        'Z.ltb'),
                                    Variable
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .)),
                                        'y')),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    'x')),
                            Apply
                              ((unknown,
                                Effect
                                  ([
                                    'NonTermination'
                                  ],
                                    .)),
                                Apply
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .
                                          -[
                                            'NonTermination'
                                          ]->
                                          .)),
                                    Apply
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .
                                              ->
                                              .
                                                -[
                                                  'NonTermination'
                                                ]->
                                                .)),
                                        Variable
                                          ((unknown,
                                            Effect
                                              ([
                                              ],
                                                .
                                                  ->
                                                  .
                                                    ->
                                                    .
                                                      -[
                                                        'NonTermination'
                                                      ]->
                                                      .)),
                                            'member_rec'),
                                        Variable
                                          ((unknown,
                                            Effect
                                              ([
                                              ],
                                                .)),
                                            'counter')),
                                    Variable
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .)),
                                        'x')),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    's2')),
                            Constructor
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                'true'))))
                ]))
        ]))

(. -> . -[ 'Counter'; 'NonTermination' ]-> .,
  Value
    (non_rec, 'member', [ ], [ ('x', Type ('Z')); ('s', Type ('set')) ],
      Some Type ('bool')) =
    Let (unknown, Effect ([ 'Counter'; 'NonTermination' ], .))
      (non_rec, 'counter', [ ], [ ], None) =
      Apply
        ((unknown, Effect ([ 'Counter' ], .)),
          Variable
            ((unknown, Effect ([ ], . -[ 'Counter' ]-> .)), 'read_counter'),
          Variable ((unknown, Effect ([ ], .)), 'tt')) in
    Apply
      ((unknown, Effect ([ 'NonTermination' ], .)),
        Apply
          ((unknown, Effect ([ ], . -[ 'NonTermination' ]-> .)),
            Apply
              ((unknown, Effect ([ ], . -> . -[ 'NonTermination' ]-> .)),
                Variable
                  ((unknown, Effect ([ ], . -> . -> . -[ 'NonTermination' ]-> .)),
                    'member_rec'),
                Variable ((unknown, Effect ([ ], .)), 'counter')),
            Variable ((unknown, Effect ([ ], .)), 'x')),
        Variable ((unknown, Effect ([ ], .)), 's')))

(. -> . -> . -[ 'NonTermination' ]-> .,
  Value
    (rec, 'insert_rec', [ ],
      [ ('counter', Type ('nat')); ('x', Type ('Z')); ('s', Type ('set')) ],
      Some Type ('set')) =
    Match
      ((unknown, Effect ([ 'NonTermination' ], .)),
        Variable ((unknown, Effect ([ ], .)), 'counter'),
        [
          (Nat(0),
            Apply
              ((unknown, Effect ([ 'NonTermination' ], .)),
                Variable
                  ((unknown,
                    Effect
                      ([ ],
                        .
                          -[
                            'NonTermination'
                          ]-> .)),
                    'not_terminated'),
                Variable ((unknown, Effect ([ ], .)), 'tt')));
          (Constructor ('S', 'counter'),
            Match
              ((unknown, Effect ([ 'NonTermination' ], .)),
                Variable ((unknown, Effect ([ ], .)), 's'),
                [
                  (Constructor ('Empty'),
                    Constructor
                      ((unknown,
                        Effect
                          ([
                          ],
                            .)),
                        'Node',
                        Constructor
                          ((unknown,
                            Effect
                              ([
                              ],
                                .)),
                            'Empty'),
                        Variable
                          ((unknown,
                            Effect
                              ([
                              ],
                                .)),
                            'x'),
                        Constructor
                          ((unknown,
                            Effect
                              ([
                              ],
                                .)),
                            'Empty')));
                  (Constructor ('Node', 's1', 'y', 's2'),
                    IfThenElse
                      ((unknown,
                        Effect
                          ([
                            'NonTermination'
                          ],
                            .)),
                        Apply
                          ((unknown,
                            Effect
                              ([
                              ],
                                .)),
                            Apply
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    'Z.ltb'),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    'x')),
                            Variable
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                'y')),
                        Constructor
                          ((unknown,
                            Effect
                              ([
                                'NonTermination'
                              ],
                                .)),
                            'Node',
                            Apply
                              ((unknown,
                                Effect
                                  ([
                                    'NonTermination'
                                  ],
                                    .)),
                                Apply
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .
                                          -[
                                            'NonTermination'
                                          ]->
                                          .)),
                                    Apply
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .
                                              ->
                                              .
                                                -[
                                                  'NonTermination'
                                                ]->
                                                .)),
                                        Variable
                                          ((unknown,
                                            Effect
                                              ([
                                              ],
                                                .
                                                  ->
                                                  .
                                                    ->
                                                    .
                                                      -[
                                                        'NonTermination'
                                                      ]->
                                                      .)),
                                            'insert_rec'),
                                        Variable
                                          ((unknown,
                                            Effect
                                              ([
                                              ],
                                                .)),
                                            'counter')),
                                    Variable
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .)),
                                        'x')),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    's1')),
                            Variable
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                'y'),
                            Variable
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                's2')),
                        IfThenElse
                          ((unknown,
                            Effect
                              ([
                                'NonTermination'
                              ],
                                .)),
                            Apply
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                Apply
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    Variable
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .)),
                                        'Z.ltb'),
                                    Variable
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .)),
                                        'y')),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    'x')),
                            Constructor
                              ((unknown,
                                Effect
                                  ([
                                    'NonTermination'
                                  ],
                                    .)),
                                'Node',
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    's1'),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    'y'),
                                Apply
                                  ((unknown,
                                    Effect
                                      ([
                                        'NonTermination'
                                      ],
                                        .)),
                                    Apply
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .
                                              -[
                                                'NonTermination'
                                              ]->
                                              .)),
                                        Apply
                                          ((unknown,
                                            Effect
                                              ([
                                              ],
                                                .
                                                  ->
                                                  .
                                                    -[
                                                      'NonTermination'
                                                    ]->
                                                    .)),
                                            Variable
                                              ((unknown,
                                                Effect
                                                  ([
                                                  ],
                                                    .
                                                      ->
                                                      .
                                                        ->
                                                        .
                                                          -[
                                                            'NonTermination'
                                                          ]->
                                                          .)),
                                                'insert_rec'),
                                            Variable
                                              ((unknown,
                                                Effect
                                                  ([
                                                  ],
                                                    .)),
                                                'counter')),
                                        Variable
                                          ((unknown,
                                            Effect
                                              ([
                                              ],
                                                .)),
                                            'x')),
                                    Variable
                                      ((unknown,
                                        Effect
                                          ([
                                          ],
                                            .)),
                                        's2'))),
                            Variable
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                's'))))
                ]))
        ]))

(. -> . -[ 'Counter'; 'NonTermination' ]-> .,
  Value
    (non_rec, 'insert', [ ], [ ('x', Type ('Z')); ('s', Type ('set')) ],
      Some Type ('set')) =
    Let (unknown, Effect ([ 'Counter'; 'NonTermination' ], .))
      (non_rec, 'counter', [ ], [ ], None) =
      Apply
        ((unknown, Effect ([ 'Counter' ], .)),
          Variable
            ((unknown, Effect ([ ], . -[ 'Counter' ]-> .)), 'read_counter'),
          Variable ((unknown, Effect ([ ], .)), 'tt')) in
    Apply
      ((unknown, Effect ([ 'NonTermination' ], .)),
        Apply
          ((unknown, Effect ([ ], . -[ 'NonTermination' ]-> .)),
            Apply
              ((unknown, Effect ([ ], . -> . -[ 'NonTermination' ]-> .)),
                Variable
                  ((unknown, Effect ([ ], . -> . -> . -[ 'NonTermination' ]-> .)),
                    'insert_rec'),
                Variable ((unknown, Effect ([ ], .)), 'counter')),
            Variable ((unknown, Effect ([ ], .)), 'x')),
        Variable ((unknown, Effect ([ ], .)), 's')))
