(. -[ 'Failure' ]-> .,
  Value
    (non_rec, 'tail', [ 'A' ], [ ('l', Type ('list', 'A')) ],
      Some Type ('list', 'A')) =
    Match
      ((unknown, Effect ([ 'Failure' ], .)),
        Variable ((unknown, Effect ([ ], .)), 'l'),
        [
          (Constructor ('cons', Any, 'xs'),
            Variable ((unknown, Effect ([ ], .)), 'xs'));
          (Constructor ('[]'),
            Apply
              ((unknown, Effect ([ 'Failure' ], .)),
                Variable
                  ((unknown,
                    Effect
                      ([ ],
                        .
                          -[
                            'Failure'
                          ]-> .)),
                    'failwith'),
                Constant
                  ((unknown, Effect ([ ], .)),
                    String("Cannot take the tail of an empty list."))))
        ]))

(. -> . -[ 'IO'; 'NonTermination' ]-> .,
  Value
    (rec, 'print_list_rec', [ ],
      [
        ('counter', Type ('nat'));
        ('match_var_0', Type ('list', Type ('string')))
      ], Some Type ('unit')) =
    Match
      ((unknown, Effect ([ 'IO'; 'NonTermination' ], .)),
        Variable ((unknown, Effect ([ ], .)), 'counter'),
        [
          (Nat(0),
            Apply
              ((unknown, Effect ([ 'NonTermination' ], .)),
                Variable
                  ((unknown,
                    Effect
                      ([ ],
                        .
                          -[
                            'NonTermination'
                          ]-> .)),
                    'not_terminated'),
                Variable ((unknown, Effect ([ ], .)), 'tt')));
          (Constructor ('S', 'counter'),
            Match
              ((unknown, Effect ([ 'IO'; 'NonTermination' ], .)),
                Variable
                  ((unknown, Effect ([ ], .)),
                    'match_var_0'),
                [
                  (Constructor ('[]'),
                    Constructor
                      ((unknown,
                        Effect
                          ([
                          ],
                            .)),
                        'tt'));
                  (Constructor ('cons', 'x', 'xs'),
                    Sequence
                      ((unknown,
                        Effect
                          ([
                            'IO';
                            'NonTermination'
                          ],
                            .)),
                        Apply
                          ((unknown,
                            Effect
                              ([
                                'IO'
                              ],
                                .)),
                            Variable
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .
                                      -[
                                        'IO'
                                      ]->
                                      .)),
                                'print_string'),
                            Variable
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                'x')),
                        Apply
                          ((unknown,
                            Effect
                              ([
                                'IO';
                                'NonTermination'
                              ],
                                .)),
                            Apply
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .
                                      -[
                                        'IO';
                                        'NonTermination'
                                      ]->
                                      .)),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .
                                          ->
                                          .
                                            -[
                                              'IO';
                                              'NonTermination'
                                            ]->
                                            .)),
                                    'print_list_rec'),
                                Variable
                                  ((unknown,
                                    Effect
                                      ([
                                      ],
                                        .)),
                                    'counter')),
                            Variable
                              ((unknown,
                                Effect
                                  ([
                                  ],
                                    .)),
                                'xs'))))
                ]))
        ]))

(. -[ 'Counter'; 'IO'; 'NonTermination' ]-> .,
  Value
    (non_rec, 'print_list', [ ],
      [ ('match_var_0', Type ('list', Type ('string'))) ], Some Type ('unit')) =
    Let (unknown, Effect ([ 'Counter'; 'IO'; 'NonTermination' ], .))
      (non_rec, 'counter', [ ], [ ], None) =
      Apply
        ((unknown, Effect ([ 'Counter' ], .)),
          Variable
            ((unknown, Effect ([ ], . -[ 'Counter' ]-> .)), 'read_counter'),
          Variable ((unknown, Effect ([ ], .)), 'tt')) in
    Apply
      ((unknown, Effect ([ 'IO'; 'NonTermination' ], .)),
        Apply
          ((unknown, Effect ([ ], . -[ 'IO'; 'NonTermination' ]-> .)),
            Variable
              ((unknown, Effect ([ ], . -> . -[ 'IO'; 'NonTermination' ]-> .)),
                'print_list_rec'),
            Variable ((unknown, Effect ([ ], .)), 'counter')),
        Variable ((unknown, Effect ([ ], .)), 'match_var_0')))

(. -[ 'Counter'; 'IO'; 'NonTermination' ]-> .,
  Value
    (non_rec, 'f', [ ], [ ],
      Some (Type ('list', Type ('string')) -> Type ('unit'))) =
    Variable
      ((unknown, Effect ([ ], . -[ 'Counter'; 'IO'; 'NonTermination' ]-> .)),
        'print_list'))

(. -[ 'Counter'; 'IO'; 'Failure'; 'NonTermination' ]-> .,
  Value (non_rec, 'x', [ 'A' ], [ ('z', 'A') ], Some Type ('unit')) =
    Apply
      ((unknown, Effect ([ 'Counter'; 'IO'; 'Failure'; 'NonTermination' ], .)),
        Variable
          ((unknown, Effect ([ ], . -[ 'Counter'; 'IO'; 'NonTermination' ]-> .)),
            'f'),
        Apply
          ((unknown, Effect ([ 'Failure' ], .)),
            Variable ((unknown, Effect ([ ], . -[ 'Failure' ]-> .)), 'tail'),
            Constructor
              ((unknown, Effect ([ ], .)), 'cons',
                Constant ((unknown, Effect ([ ], .)), String("Stop")),
                Constructor
                  ((unknown, Effect ([ ], .)), 'cons',
                    Constant ((unknown, Effect ([ ], .)), String("Hello")),
                    Constructor
                      ((unknown, Effect ([ ], .)), 'cons',
                        Constant ((unknown, Effect ([ ], .)), String(" ")),
                        Constructor
                          ((unknown, Effect ([ ], .)), 'cons',
                            Constant
                              ((unknown, Effect ([ ], .)), String("world")),
                            Constructor ((unknown, Effect ([ ], .)), '[]'))))))))
